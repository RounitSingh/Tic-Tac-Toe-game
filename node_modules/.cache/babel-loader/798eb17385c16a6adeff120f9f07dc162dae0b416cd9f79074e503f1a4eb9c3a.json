{"ast":null,"code":"import _toConsumableArray from\"E:/react/Tic-Tac-Toe game/01-starting-setup/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/react/Tic-Tac-Toe game/01-starting-setup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"E:/react/Tic-Tac-Toe game/01-starting-setup/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{useState,useEffect}from\"react\";import Board from\"./Board\";import GameOver from\"./GameOver\";import GameState from\"./GameState\";import Reset from\"./Reset\";import gameOverSoundAsset from\"../sounds/game_over.wav\";import clickSoundAsset from\"../sounds/click.wav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var gameOverSound=new Audio(gameOverSoundAsset);gameOverSound.volume=0.2;var clickSound=new Audio(clickSoundAsset);clickSound.volume=0.5;var PLAYER_X=\"X\";var PLAYER_O=\"O\";var winningCombinations=[//Rows\n{combo:[0,1,2],strikeClass:\"strike-row-1\"},{combo:[3,4,5],strikeClass:\"strike-row-2\"},{combo:[6,7,8],strikeClass:\"strike-row-3\"},//Columns\n{combo:[0,3,6],strikeClass:\"strike-column-1\"},{combo:[1,4,7],strikeClass:\"strike-column-2\"},{combo:[2,5,8],strikeClass:\"strike-column-3\"},//Diagonals\n{combo:[0,4,8],strikeClass:\"strike-diagonal-1\"},{combo:[2,4,6],strikeClass:\"strike-diagonal-2\"}];function checkWinner(tiles,setStrikeClass,setGameState){var _iterator=_createForOfIteratorHelper(winningCombinations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,combo=_step$value.combo,strikeClass=_step$value.strikeClass;var tileValue1=tiles[combo[0]];var tileValue2=tiles[combo[1]];var tileValue3=tiles[combo[2]];if(tileValue1!==null&&tileValue1===tileValue2&&tileValue1===tileValue3){setStrikeClass(strikeClass);if(tileValue1===PLAYER_X){setGameState(GameState.playerXWins);}else{setGameState(GameState.playerOWins);}return;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var areAllTilesFilledIn=tiles.every(function(tile){return tile!==null;});if(areAllTilesFilledIn){setGameState(GameState.draw);}}function Game(){var _useState=useState(Array(9).fill(null)),_useState2=_slicedToArray(_useState,2),tiles=_useState2[0],setTiles=_useState2[1];var _useState3=useState(PLAYER_X),_useState4=_slicedToArray(_useState3,2),playerTurn=_useState4[0],setPlayerTurn=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),strikeClass=_useState6[0],setStrikeClass=_useState6[1];var _useState7=useState(GameState.inProgress),_useState8=_slicedToArray(_useState7,2),gameState=_useState8[0],setGameState=_useState8[1];var handleTileClick=function handleTileClick(index){if(gameState!==GameState.inProgress){return;}if(tiles[index]!==null){return;}var newTiles=_toConsumableArray(tiles);newTiles[index]=playerTurn;setTiles(newTiles);if(playerTurn===PLAYER_X){setPlayerTurn(PLAYER_O);}else{setPlayerTurn(PLAYER_X);}};var handleReset=function handleReset(){setGameState(GameState.inProgress);setTiles(Array(9).fill(null));setPlayerTurn(PLAYER_X);setStrikeClass(null);};useEffect(function(){checkWinner(tiles,setStrikeClass,setGameState);},[tiles]);useEffect(function(){if(tiles.some(function(tile){return tile!==null;})){clickSound.play();}},[tiles]);useEffect(function(){if(gameState!==GameState.inProgress){gameOverSound.play();}},[gameState]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tic Tac Toe\"}),/*#__PURE__*/_jsx(Board,{playerTurn:playerTurn,tiles:tiles,onTileClick:handleTileClick,strikeClass:strikeClass}),/*#__PURE__*/_jsx(GameOver,{gameState:gameState}),/*#__PURE__*/_jsx(Reset,{gameState:gameState,onReset:handleReset})]});}export default Game;","map":{"version":3,"names":["useState","useEffect","Board","GameOver","GameState","Reset","gameOverSoundAsset","clickSoundAsset","jsx","_jsx","jsxs","_jsxs","gameOverSound","Audio","volume","clickSound","PLAYER_X","PLAYER_O","winningCombinations","combo","strikeClass","checkWinner","tiles","setStrikeClass","setGameState","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","value","tileValue1","tileValue2","tileValue3","playerXWins","playerOWins","err","e","f","areAllTilesFilledIn","every","tile","draw","Game","_useState","Array","fill","_useState2","_slicedToArray","setTiles","_useState3","_useState4","playerTurn","setPlayerTurn","_useState5","_useState6","_useState7","inProgress","_useState8","gameState","handleTileClick","index","newTiles","_toConsumableArray","handleReset","some","play","children","onTileClick","onReset"],"sources":["E:/react/Tic-Tac-Toe game/01-starting-setup/src/components/Game.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Board from \"./Board\";\r\nimport GameOver from \"./GameOver\";\r\nimport GameState from \"./GameState\";\r\nimport Reset from \"./Reset\";\r\nimport gameOverSoundAsset from \"../sounds/game_over.wav\";\r\nimport clickSoundAsset from \"../sounds/click.wav\";\r\n\r\nconst gameOverSound = new Audio(gameOverSoundAsset);\r\ngameOverSound.volume = 0.2;\r\nconst clickSound = new Audio(clickSoundAsset);\r\nclickSound.volume = 0.5;\r\n\r\nconst PLAYER_X = \"X\";\r\nconst PLAYER_O = \"O\";\r\n\r\nconst winningCombinations = [\r\n  //Rows\r\n  { combo: [0, 1, 2], strikeClass: \"strike-row-1\" },\r\n  { combo: [3, 4, 5], strikeClass: \"strike-row-2\" },\r\n  { combo: [6, 7, 8], strikeClass: \"strike-row-3\" },\r\n\r\n  //Columns\r\n  { combo: [0, 3, 6], strikeClass: \"strike-column-1\" },\r\n  { combo: [1, 4, 7], strikeClass: \"strike-column-2\" },\r\n  { combo: [2, 5, 8], strikeClass: \"strike-column-3\" },\r\n\r\n  //Diagonals\r\n  { combo: [0, 4, 8], strikeClass: \"strike-diagonal-1\" },\r\n  { combo: [2, 4, 6], strikeClass: \"strike-diagonal-2\" },\r\n];\r\n\r\nfunction checkWinner(tiles, setStrikeClass, setGameState) {\r\n  for (const { combo, strikeClass } of winningCombinations) {\r\n    const tileValue1 = tiles[combo[0]];\r\n    const tileValue2 = tiles[combo[1]];\r\n    const tileValue3 = tiles[combo[2]];\r\n\r\n    if (\r\n      tileValue1 !== null &&\r\n      tileValue1 === tileValue2 &&\r\n      tileValue1 === tileValue3\r\n    ) {\r\n      setStrikeClass(strikeClass);\r\n      if (tileValue1 === PLAYER_X) {\r\n        setGameState(GameState.playerXWins);\r\n      } else {\r\n        setGameState(GameState.playerOWins);\r\n      }\r\n      return;\r\n    }\r\n  }\r\n\r\n  const areAllTilesFilledIn = tiles.every((tile) => tile !== null);\r\n  if (areAllTilesFilledIn) {\r\n    setGameState(GameState.draw);\r\n  }\r\n}\r\n\r\nfunction Game() {\r\n  const [tiles, setTiles] = useState(Array(9).fill(null));\r\n  const [playerTurn, setPlayerTurn] = useState(PLAYER_X);\r\n  const [strikeClass, setStrikeClass] = useState();\r\n  const [gameState, setGameState] = useState(GameState.inProgress);\r\n\r\n  const handleTileClick = (index) => {\r\n    if (gameState !== GameState.inProgress) {\r\n      return;\r\n    }\r\n\r\n    if (tiles[index] !== null) {\r\n      return;\r\n    }\r\n\r\n    const newTiles = [...tiles];\r\n    newTiles[index] = playerTurn;\r\n    setTiles(newTiles);\r\n    if (playerTurn === PLAYER_X) {\r\n      setPlayerTurn(PLAYER_O);\r\n    } else {\r\n      setPlayerTurn(PLAYER_X);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setGameState(GameState.inProgress);\r\n    setTiles(Array(9).fill(null));\r\n    setPlayerTurn(PLAYER_X);\r\n    setStrikeClass(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkWinner(tiles, setStrikeClass, setGameState);\r\n  }, [tiles]);\r\n\r\n  useEffect(() => {\r\n    if (tiles.some((tile) => tile !== null)) {\r\n      clickSound.play();\r\n    }\r\n  }, [tiles]);\r\n\r\n  useEffect(() => {\r\n    if (gameState !== GameState.inProgress) {\r\n      gameOverSound.play();\r\n    }\r\n  }, [gameState]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Tic Tac Toe</h1>\r\n      <Board\r\n        playerTurn={playerTurn}\r\n        tiles={tiles}\r\n        onTileClick={handleTileClick}\r\n        strikeClass={strikeClass}\r\n      />\r\n      <GameOver gameState={gameState} />\r\n      <Reset gameState={gameState} onReset={handleReset} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}